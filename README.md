# ExpertGPT-Pet-Proto-8K

**A High-Fidelity Instruction Tuning Dataset for Desktop Embodied Agents**
**ä¸“ä¸ºè½»é‡çº§æ¨¡å‹è®¾è®¡çš„æ¡Œé¢å…·èº«æ™ºèƒ½å¯¹é½æ•°æ®é›†**

</div>

## ğŸ“‘ æ‘˜è¦ (Abstract)

**ExpertGPT-Pet-Proto-8K** æ˜¯ä¸€ä¸ªé¢å‘å°è¯­è¨€æ¨¡å‹ï¼ˆSLMs, <1B Parametersï¼‰çš„é«˜è´¨é‡æŒ‡ä»¤å¾®è°ƒï¼ˆSFTï¼‰æ•°æ®é›†ï¼ŒåŒ…å«çº¦ 8,000 æ¡ç»è¿‡ä¸¥æ ¼ç­›é€‰çš„ç»“æ„åŒ–æ ·æœ¬ã€‚

æœ¬æ•°æ®é›†æ—¨åœ¨è§£å†³è½»é‡çº§æ¨¡å‹åœ¨**é•¿åºåˆ—é€»è¾‘æ¨ç†**ã€**ç©ºé—´åæ ‡æ˜ å°„**åŠ**æŒä¹…åŒ–çŠ¶æ€è·Ÿè¸ª**æ–¹é¢çš„èƒ½åŠ›ç¼ºé™·ã€‚é€šè¿‡å¼•å…¥**æ€ç»´é“¾ï¼ˆChain-of-Thought, CoTï¼‰**ä¸**æœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰**åè®®ï¼Œæœ¬æ•°æ®é›†èƒ½å¤Ÿæ˜¾è‘—å¢å¼ºæ¨¡å‹åœ¨æ¡Œé¢ç¯å¢ƒä¸‹çš„å…·èº«æ™ºèƒ½ï¼ˆEmbodied AIï¼‰è¡¨ç°ã€‚æ•°æ®å†…å®¹å®Œå…¨ç”± SOTA æ¨¡å‹ï¼ˆGemini 3 Pro ä¸ DeepSeek V3.2ï¼‰è”åˆè’¸é¦ç”Ÿæˆï¼Œç¡®ä¿äº†æé«˜çš„ä¿¡å™ªæ¯”ä¸é€»è¾‘ä¸€è‡´æ€§ã€‚

## ğŸ› ï¸ æ•°æ®é›†æ„å»º (Dataset Construction)

æœ¬æ•°æ®é›†çš„æ„å»ºéµå¾ª **"Less Is More for Alignment" (LIMA)** å‡è®¾ï¼Œå¼ºè°ƒæ•°æ®è´¨é‡ä¼˜äºæ•°é‡ã€‚

*   **çŸ¥è¯†è’¸é¦ (Knowledge Distillation)**ï¼šåˆ©ç”¨ Gemini 3 Pro çš„å¤æ‚é€»è¾‘æ¨ç†èƒ½åŠ›ä¸ DeepSeek V3.2 çš„ä¸­æ–‡åˆ›ä½œèƒ½åŠ›ï¼Œé€šè¿‡å¤šè½®å¯¹è¯ç”ŸæˆåŸå§‹è¯­æ–™ã€‚
*   **åè®®çº¦æŸ (Protocol Constraint)**ï¼šåœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­æ–½åŠ ä¸¥æ ¼çš„æ ¼å¼çº¦æŸï¼ˆSchema Enforcementï¼‰ï¼Œç¡®ä¿æ‰€æœ‰è¾“å‡ºå‡ç¬¦åˆâ€œçŠ¶æ€-æ€ç»´-å“åº”-è¡ŒåŠ¨â€çš„å››æ®µå¼ç»“æ„ã€‚
*   **è´Ÿå‘è¿‡æ»¤ (Negative Filtering)**ï¼šç§»é™¤äº†æ¶‰åŠæ”¿æ²»æ•æ„Ÿã€è‹±æ–‡å•è¯å¹²æ‰°ã€æ ¼å¼é”™è¯¯çš„æ ·æœ¬ï¼Œå¹¶å¯¹å­—æ•°ä¸è¯­æ°”è¿›è¡Œäº†ä¸¥æ ¼çš„æ ‡å‡†åŒ–å¤„ç†ã€‚

## ğŸ“ æ•°æ®æ¨¡å¼ (Data Schema)

æœ¬æ•°æ®é›†å®šä¹‰äº†ä¸€å¥—é€‚ç”¨äºæ¡Œé¢ Agent çš„äº¤äº’åè®®ã€‚æ¯æ¡æ ·æœ¬ç”± **Contextual Input (ç¯å¢ƒä¸Šä¸‹æ–‡)** ä¸ **Behavioral Output (è¡Œä¸ºè¾“å‡º)** ç»„æˆã€‚

### è¾“å…¥ç©ºé—´ (Input Space)
Prompt è¢«è®¾è®¡ä¸ºåŒ…å«å¤šæ¨¡æ€ç¯å¢ƒä¿¡æ¯çš„æ–‡æœ¬æè¿°ï¼š

*   **User Instruction**: ç”¨æˆ·è¾“å…¥çš„æŒ‡ä»¤æˆ–å¯¹è¯å†…å®¹ã€‚
*   **Temporal Marker**: æ—¶é—´æµé€çš„å¯è§†åŒ–æ ‡è®°ï¼ˆTickæœºåˆ¶ï¼‰ï¼Œç”¨äºè®­ç»ƒæ¨¡å‹çš„æ—¶é—´æ„ŸçŸ¥èƒ½åŠ›ã€‚
*   **Interaction Event**: æ–½åŠ äº Agent çš„ç‰©ç†äº¤äº’äº‹ä»¶ï¼ˆå¦‚ï¼šæŠšæ‘¸ã€æ‹–æ‹½ã€å–‚é£Ÿï¼‰ã€‚
*   **Spatial Coordinates**: Agent å½“å‰æ‰€åœ¨çš„ 2D æ¡Œé¢åæ ‡ $(x, y)$ï¼Œå…¶ä¸­ $x, y \in [0, 99]$ã€‚

### è¾“å‡ºç©ºé—´ (Output Space)
æ¨¡å‹å“åº”è¢«å¼ºåˆ¶è§£è€¦ä¸ºå››ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä»¥å¢å¼ºå¯è§£é‡Šæ€§ä¸é²æ£’æ€§ï¼š

| æ¨¡å— (Module) | æ ‡è¯†ç¬¦ | åŠŸèƒ½æè¿° (Description) |
| :--- | :--- | :--- |
| **çŠ¶æ€æœº** | `ã€çŠ¶æ€ã€‘` | ç»´æŠ¤å†…éƒ¨å˜é‡ï¼ˆå¿ƒæƒ…ã€å›°å€¦åº¦ã€æ—¶é—´ï¼‰ï¼Œä¿è¯äººæ ¼è¿ç»­æ€§ (Persona Consistency)ã€‚ |
| **æ€ç»´é“¾** | `ã€å†…å¿ƒã€‘` | **CoT æ¨ç†å±‚**ã€‚åœ¨æ‰§è¡ŒåŠ¨ä½œå‰è¿›è¡Œè·¯å¾„è§„åˆ’ä¸é€»è¾‘è‡ªæ´½æ€§æ£€æŸ¥ã€‚ |
| **è‡ªç„¶è¯­è¨€** | `ã€å›å¤ã€‘` | é«˜æ‹Ÿäººåº¦çš„æ–‡æœ¬å›å¤ï¼Œå…·å¤‡ç‰¹å®šçš„è§’è‰²æ€§æ ¼ç‰¹å¾ã€‚ |
| **æ‰§è¡ŒæŒ‡ä»¤** | `ã€åŠ¨ä½œã€‘` | åŒ…å«ç›®æ ‡åæ ‡ $(x_{new}, y_{new})$ ä¸åŸå­åŠ¨ä½œæ ‡ç­¾ï¼ˆå¦‚ `[ç§»åŠ¨]`, `[è·³è·ƒ]`ï¼‰ã€‚ |

## ğŸ“ æ ·æœ¬ç¤ºä¾‹ (Examples)

### åœºæ™¯ Aï¼šç©ºé—´æŒ‡ä»¤éµå¾ª (Spatial Instruction Following)
```json
{
  "instruction": "ç”¨æˆ·ï¼šå»å±å¹•æœ€å³ä¸‹è§’å¾…ç€ï¼Œåˆ«æŒ¡ç€æˆ‘åŠå…¬ã€‚\næ—¶é—´ï¼š--\nåŠ¨ä½œï¼šæ— \nå½“å‰ä½ç½®ï¼š(45, 50)",
  "output": "ã€çŠ¶æ€ã€‘å¿ƒæƒ…:å¬è¯ | å›°å€¦:20 | æ—¶é—´:--\nã€å†…å¿ƒã€‘ç”¨æˆ·éœ€è¦åŠå…¬ç©ºé—´ï¼ŒæŒ‡ä»¤æ„å›¾ä¸ºé¿è®©ã€‚è®¡ç®—ç›®æ ‡åæ ‡ä¸ºå³ä¸‹è§’æé™ä½ç½® (99, 99)ã€‚\nã€å›å¤ã€‘æ”¶åˆ°æŒ‡ä»¤ã€‚æˆ‘è¿™å°±æ’¤ç¦»åˆ°è§’è½ï¼Œç»ä¸æ‰“æ‰°æ‚¨å·¥ä½œã€‚\nã€åŠ¨ä½œã€‘(99, 99) [ç§»åŠ¨]"
}
```

### åœºæ™¯ Bï¼šè¢«åŠ¨ç¯å¢ƒæ„ŸçŸ¥ (Passive Perception)
```json
{
  "instruction": "ç”¨æˆ·ï¼šæ— \næ—¶é—´ï¼š----------------\nåŠ¨ä½œï¼šæ— \nå½“å‰ä½ç½®ï¼š(50, 50)",
  "output": "ã€çŠ¶æ€ã€‘å¿ƒæƒ…:å›°å€¦ | å›°å€¦:95 | æ—¶é—´:----------------\nã€å†…å¿ƒã€‘æ£€æµ‹åˆ°é•¿æ—¶é—´æ— äº¤äº’ï¼Œä¸”æ—¶é—´Tickç´¯ç§¯å¯¼è‡´å›°å€¦å€¼è¾¾åˆ°é˜ˆå€¼ã€‚å†³ç­–è¿›å…¥ç¡çœ æ¨¡å¼ä»¥æ¨¡æ‹Ÿç”Ÿç‰©é’Ÿã€‚\nã€å›å¤ã€‘(å‘å‡ºå‡åŒ€çš„å‘¼å¸å£°...zzZ)\nã€åŠ¨ä½œã€‘(50, 50) [ç¡è§‰]"
}
```

## ğŸ”¬ å®éªŒä¸å¾®è°ƒå»ºè®® (Fine-tuning Guidelines)

é’ˆå¯¹ 180M - 1B å‚æ•°è§„æ¨¡çš„æ¨¡å‹ï¼ˆå¦‚ ExpertGPT, Qwen-0.5B, TinyLlamaï¼‰ï¼Œå»ºè®®é‡‡ç”¨ä»¥ä¸‹è®­ç»ƒç­–ç•¥ï¼š

1.  **æ•°æ®æ··åˆ (Data Mixing)**ï¼š
    ä¸ºé˜²æ­¢ç¾éš¾æ€§é—å¿˜ï¼ˆCatastrophic Forgettingï¼‰ï¼Œå»ºè®®å°†æœ¬æ•°æ®é›†ä¸é€šç”¨ SFT æ•°æ®é›†æŒ‰ **1:5** æˆ– **1:10** çš„æ¯”ä¾‹æ··åˆè®­ç»ƒã€‚

2.  **è¶…å‚æ•°è®¾ç½® (Hyperparameters)**ï¼š
    *   **Sequence Length**: $\ge 700$ tokens (ä»¥å®¹çº³å®Œæ•´çš„ CoT æ¨ç†è¿‡ç¨‹)ã€‚
    *   **Learning Rate**: æ¨è $1e^{-5}$ è‡³ $2e^{-5}$ã€‚
    *   **Gradient Accumulation**: å»ºè®®ä½¿ç”¨æ¢¯åº¦ç´¯ç§¯ä»¥ç¨³å®šå° Batch ä¸‹çš„ä¼˜åŒ–æ–¹å‘ã€‚

3.  **æ­£åˆ™åŒ– (Regularization)**ï¼š
    é‰´äºæ•°æ®çš„é«˜åº¦ç»“æ„åŒ–ç‰¹å¾ï¼Œå»ºè®®é€‚å½“å¢åŠ  `weight_decay` (e.g., 0.05 - 0.1) æˆ– `dropout` ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚

## âš ï¸ é™åˆ¶ä¸å£°æ˜ (Limitations & Disclaimer)

*   **é¢†åŸŸå±€é™æ€§**ï¼šæœ¬æ•°æ®é›†ä¸“æ³¨äºæ¡Œé¢ Agent åœºæ™¯ï¼Œä¸ä¿è¯åœ¨é€šç”¨ç™¾ç§‘é—®ç­”æˆ–å¤æ‚ä»£ç ç”Ÿæˆä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚
